<!DOCTYPE html>
<html lang="es">
<head>
  <script>
    // Traducciones para el menú lateral
    const menuTranslations = {
      es: { plantilla: 'Plantilla', once: 'Crear once' },
      eu: { plantilla: 'Taldea', once: 'Hamaikakoa sortu'}
    };
    let menuLang = 'es';
    // Leer idioma guardado en localStorage si existe
    if (localStorage.getItem('lang')) {
      menuLang = localStorage.getItem('lang');
    }
    function updateMenuLang() {
      document.getElementById('menu-once').textContent = menuTranslations[menuLang].once;
      document.getElementById('menu-plantilla').textContent = menuTranslations[menuLang].plantilla;
      document.getElementById('langBtn').textContent = menuLang === 'es' ? 'Eus' : 'Cast';
    }
    document.addEventListener('DOMContentLoaded', updateMenuLang);
  </script>
  <meta charset="UTF-8">
  <title>Real Sociedad</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { font-family: Arial, sans-serif; background: #003366; margin: 0; padding: 0; }
    .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      width: 210px;
      height: 100vh;
      background: #002244;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      padding-top: 48px;
      z-index: 100;
      box-shadow: 2px 0 12px rgba(0,0,0,0.08);
    }
    .sidebar a {
      color: #fff;
      text-decoration: none;
      font-size: 1.2em;
      font-weight: bold;
      padding: 16px 32px;
      width: 100%;
      display: block;
      border-left: 4px solid transparent;
      transition: background 0.15s, border-color 0.15s;
    }
    .sidebar a.active, .sidebar a:hover {
      background: #003366;
      border-left: 4px solid #0077cc;
    }
    .main-content {
      margin-left: 210px;
      padding: 32px 0 0 0;
    }
    .players-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 24px;
      justify-items: center;
    }
    .player-card {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.10);
      display: flex;
      align-items: center;
  gap: 32px;
  padding: 18px 32px 18px 32px;
  margin-bottom: 0;
  width: 100%;
  max-width: 390px;
  min-height: 110px;
    }
    .player-img {
    /* Estilo para el botón de play/stop */
    .play-btn {
      background: #fff;
      color: #003366;
      border: none;
      border-radius: 16px;
      padding: 12px 24px;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.10);
      font-size: 1.3em;
      margin-left: 32px;
    }
      width: 72px;
      height: 72px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid #0077cc;
      background: #eee;
    }
    .player-info {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    .player-name {
      font-size: 1.2em;
      font-weight: bold;
      color: #003366;
    }
    .player-fullname {
      font-size: 1em;
      color: #222;
      font-weight: normal;
    }
    .player-dorsal {
      font-size: 1.1em;
      color: #0077cc;
      font-weight: bold;
      margin-bottom: 2px;
    }
    @media (max-width: 900px) {
      .sidebar { width: 56px; padding-top: 24px; }
      .sidebar a { font-size: 1em; padding: 12px 8px; }
      .main-content { margin-left: 56px; }
      .player-card { padding: 12px 8px; gap: 12px; }
      .player-img { width: 48px; height: 48px; }
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <a href="plantilla.html" id="menu-plantilla" class="active">Plantilla</a>
    <a href="hamaikakoa.html" id="menu-once">Crear once</a>
  </div>
  <div class="main-content">
  <h2 id="plantillaTitle" style="color:#fff; font-weight:bold; margin-left:32px; margin-bottom:40px;"></h2>
  <div class="players-grid" id="playersContainer"></div>
  <h2 id="vendidosTitle" style="color:#fff; font-weight:bold; margin-left:32px; margin-top:56px; margin-bottom:40px;"></h2>
  <div class="players-grid" id="vendidosContainer"></div>
  <button id="langBtn" style="background:#fff; color:#003366; border-radius:8px; border:none; font-weight:bold; font-size:1em; padding:6px 18px; cursor:pointer; box-shadow:0 2px 8px rgba(0,0,0,0.12); position:fixed; top:18px; right:24px; z-index:200;">Eus</button>
  </div>
  <script>
    // Jugadores en plantilla
    const players = [
  { dorsal: 1, name: 'A. Remiro', fullname: 'Álex Remiro', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/alex_remiro.jpg', song: 'alex_remiro.mp3' },
  { dorsal: 2, name: 'Aramburu', fullname: 'Jon Mikel Aramburu', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/jon_mikel_aramburu.jpg', song: 'jon_mikel_aramburu.mp3' },
  { dorsal: 3, name: 'Aihen', fullname: 'Aihen Muñoz', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/aihen_munoz.jpg', song: 'aihen_munoz.mp3' },
  { dorsal: 4, name: 'Gorrotxa', fullname: 'Jon Gorrotxategi', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/jon_gorrotxategi.jpg', song: 'jon_gorrotxategi.mp3' },
  { dorsal: 5, name: 'Zubeldia', fullname: 'Igor Zubeldia', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/igor_zubeldia.jpg', song: 'igor_zubeldia.mp3' },
  { dorsal: 6, name: 'Aritz', fullname: 'Aritz Elustondo', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/aritz_elustondo.jpg', song: 'aritz_elustondo.mp3' },
  { dorsal: 7, name: 'Barrene', fullname: 'Ander Barrenetxea', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/ander_barrenetxea.jpg', song: 'ander_barrenetxea.mp3' },
  { dorsal: 8, name: 'Turrientes', fullname: 'Beñat Turrientes', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/benat_turrientes.jpg', song: 'benat_turrientes.mp3' },
  { dorsal: 9, name: 'Óskarsson', fullname: 'Orri Óskarsson', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/orri_oskarsson.jpg', song: 'orri_oskarsson.mp3' },
  { dorsal: 10, name: 'Oyarzabal', fullname: 'Mikel Oyarzabal', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/mikel_oyarzabal.jpg', song: 'mikel_oyarzabal.mp3' },
  { dorsal: 11, name: 'Guedes', fullname: 'Gonçalo Guedes', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/goncalo_guedes.jpg', song: 'goncalo_guedes.mp3' },
  { dorsal: 13, name: 'Marrero', fullname: 'Unai Marrero', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/unai_marrero.jpg', song: 'unai_marrero.mp3' },
  { dorsal: 14, name: 'Take', fullname: 'Takefusa Kubo', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/takefusa_kubo.jpg', song: 'takefusa_kubo.mp3' },
  { dorsal: 16, name: 'Ćaleta-Car', fullname: 'Duje Ćaleta-Car', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/duje_caletacar.jpg', song: 'duje_caletacar.mp3' },
  { dorsal: 17, name: 'Sergio Gómez', fullname: 'Sergio Gómez', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/sergio_gomez.jpg', song: 'sergio_gomez.mp3' },
  { dorsal: 18, name: 'H. Traoré', fullname: 'Hamari Traoré', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/hamari_traore.jpg', song: 'hamari_traore.mp3' },
  { dorsal: 19, name: 'Karrikaburu', fullname: 'Jon Karrikaburu', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/jon_karrikaburu.jpg', song: 'jon_karrikaburu.mp3' },
  { dorsal: 21, name: 'Zakharyan', fullname: 'Arsen Zakharyan', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/arsen_zakharyan.jpg', song: 'arsen_zakharyan.mp3' },
  { dorsal: 22, name: 'Goti', fullname: 'Mikel Goti', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/mikel_goti.jpg', song: 'mikel_goti.mp3' },
  { dorsal: 23, name: 'Brais Méndez', fullname: 'Brais Méndez', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/brais_mendez.jpg', song: 'brais_mendez.mp3' },
  { dorsal: 24, name: 'Sučić', fullname: 'Luka Sučić', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/luka_sucic.jpg', song: 'luka_sucic.mp3' },
  { dorsal: 28, name: 'Marín', fullname: 'Pablo Marín', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/pablo_marin.jpg', song: 'pablo_marin.mp3' },
  { dorsal: 31, name: 'Jon Martín', fullname: 'Jon Martín', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/jon_martin.jpg', song: 'jon_martin.mp3' },
  { dorsal: 33, name: 'Rupérez', fullname: 'Iñaki Rupérez', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/inaki_ruperez.jpg', song: 'inaki_ruperez.mp3' },
  { dorsal: 40, name: 'Mariezkurrena', fullname: 'Arkaitz Mariezkurrena', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/arkaitz_mariezkurrena.jpg', song: 'arkaitz_mariezkurrena.mp3' },
  { dorsal: '', name: 'Odriozola', fullname: 'Álvaro Odriozola', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/alvaro_odriozola.jpg', song: 'alvaro_odriozola.mp3' },
  { dorsal: '', name: 'Javi López', fullname: 'Javi López', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/javi_lopez.jpg', song: 'javi_lopez.mp3' },
  { dorsal: '', name: 'Sadiq', fullname: 'Sadiq Umar', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/sadiq_umar.jpg', song: 'sadiq_umar.mp3' },
  { dorsal: '', name: 'Becker', fullname: 'Sheraldo Becker', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/sheraldo_becker.jpg', song: 'sheraldo_becker.mp3' },
  { dorsal: '', name: 'Coming soon...', fullname: '', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/carlos_soler.jpg', song: 'carlos_soler.mp3', disabled: true },
  { dorsal: '', name: 'Coming soon...', fullname: '', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/yangel_herrera.jpg', song: 'yangel_herrera.mp3', disabled: true }
    ];
    // Jugadores vendidos/cedidos
    const vendidos = [
  { name: 'Pacheco', fullname: 'Jon Pacheco', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/jon_pacheco.jpg', status: { es: 'Cedido', eu: 'Utzita' }, song: 'jon_pacheco.mp3' },
  { name: 'Carlos Fdez.', fullname: 'Carlos Fernández', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/carlos_fernandez.jpg', status: { es: 'Cedido', eu: 'Utzita' }, song: 'carlos_fernandez.mp3' },
  { name: 'Urko', fullname: 'Urko González de Zárate', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/urko_gonzalez_de_zarate.jpg', status: { es: 'Transferido', eu: 'Salduta' }, song: 'urko_gonzalez_de_zarate.mp3' },
  { name: 'Olasagasti', fullname: 'Jon Ander Olasagasti', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/jon_ander_olasagasti.jpg', status: { es: 'Transferido', eu: 'Salduta' }, song: 'jon_ander_olasagasti.mp3' },
  { name: 'Zubimendi', fullname: 'Martin Zubimendi', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/martin_zubimendi.jpg', status: { es: 'Transferido', eu: 'Salduta' }, song: 'martin_zubimendi.mp3' },
  { name: 'Magunazelaia', fullname: 'Jon Magunazelaia', img: 'https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/img/jon_magunazelaia.jpg', status: { es: 'Transferido', eu: 'Salduta' }, song: 'jon_magunazelaia.mp3' }
    ];
    // Traducciones
    const translations = {
      es: {
        dorsal: 'Dorsal',
        menuOnce: 'Crear once',
        menuPlantilla: 'Plantilla',
        plantillaTitle: 'En plantilla',
        vendidosTitle: 'Vendidos/Cedidos',
        transferido: 'Transferido',
        cedido: 'Cedido'
      },
      eu: {
        dorsal: 'Dortsala',
        menuOnce: 'Hamaikakoa sortu',
        menuPlantilla: 'Taldea',
        plantillaTitle: 'Taldekideak',
        vendidosTitle: 'Salduta/Utzita',
        transferido: 'Salduta',
        cedido: 'Utzita'
      }
    };
    let currentLang = localStorage.getItem('lang') || 'es';
    function renderPlayers() {
      const container = document.getElementById('playersContainer');
      container.innerHTML = '';
      players.forEach((player, idx) => {
        const card = document.createElement('div');
        card.className = 'player-card';
        card.innerHTML = `
          <img class="player-img" src="${player.img}" alt="${player.name}"${player.disabled ? ' style=\"filter: grayscale(1); opacity: 0.6;\"' : ''}>
          <div class="player-info">
            <span class="player-name">${player.name}</span>
            <span class="player-fullname">${player.fullname}</span>
            <span class="player-dorsal">${player.dorsal ? translations[currentLang].dorsal + ': ' + player.dorsal : ''}</span>
          </div>
          ${player.disabled ? '' : `<button class="play-btn" data-idx="${idx}">▶️</button>`}
        `;
        container.appendChild(card);
      });
    }
    
    function renderVendidos() {
      const container = document.getElementById('vendidosContainer');
      container.innerHTML = '';
      vendidos.forEach((player, idx) => {
        const card = document.createElement('div');
        card.className = 'player-card';
        card.innerHTML = `
          <img class="player-img" src="${player.img}" alt="${player.name}">
          <div class="player-info">
            <span class="player-name">${player.name}</span>
            <span class="player-fullname">${player.fullname}</span>
            <span class="player-dorsal">${player.status[currentLang]}</span>
          </div>
          <button class="play-btn" data-idx="v${idx}">▶️</button>
        `;
        container.appendChild(card);
      });
    }
    // Reproductor global
    let currentAudio = null;
    let currentBtn = null;
    let audioPositions = {};
    function getSongUrl(player, isVendido) {
      if (!player.song) return null;
      return `https://raw.githubusercontent.com/OriyokoIjitua/TwReal/main/mp3/${player.song}`;
    }
    function setupPlayButtons() {
      document.querySelectorAll('.play-btn').forEach(btn => {
        btn.onclick = function() {
          let idx = btn.getAttribute('data-idx');
          let player, isVendido = false;
          if (idx.startsWith('v')) {
            player = vendidos[parseInt(idx.slice(1))];
            isVendido = true;
          } else {
            player = players[parseInt(idx)];
          }
          let url = getSongUrl(player, isVendido);
          if (!url) return;
          // Si ya está sonando este audio, pausar/reanudar
          if (currentAudio && currentAudio.src === url) {
            if (currentAudio.paused) {
              currentAudio.play();
              btn.textContent = '⏹️';
            } else {
              currentAudio.pause();
              btn.textContent = '▶️';
            }
            return;
          }
          // Parar el anterior
          if (currentAudio) {
            currentAudio.pause();
            if (currentBtn) currentBtn.textContent = '▶️';
          }
          // Crear nuevo audio
          if (!audioPositions[url]) audioPositions[url] = 0;
          currentAudio = new Audio(url);
          currentAudio.currentTime = audioPositions[url];
          currentBtn = btn;
          btn.textContent = '⏹️';
          currentAudio.play();
          currentAudio.onended = function() {
            btn.textContent = '▶️';
            audioPositions[url] = 0;
            currentAudio = null;
            currentBtn = null;
          };
          currentAudio.onpause = function() {
            audioPositions[url] = currentAudio.currentTime;
            btn.textContent = '▶️';
          };
        };
      });
    }
    
    function updateLangBtn() {
  // Actualizar menú lateral
  document.getElementById('menu-once').textContent = translations[currentLang].menuOnce;
  document.getElementById('menu-plantilla').textContent = translations[currentLang].menuPlantilla;
  // Actualizar títulos
  document.getElementById('plantillaTitle').textContent = translations[currentLang].plantillaTitle;
  document.getElementById('vendidosTitle').textContent = translations[currentLang].vendidosTitle;
  // Actualizar botón idioma
  document.getElementById('langBtn').textContent = currentLang === 'es' ? 'Eus' : 'Cast';
  renderPlayers();
  renderVendidos();
  setupPlayButtons();
    }
    document.getElementById('langBtn').onclick = function() {
  currentLang = currentLang === 'es' ? 'eu' : 'es';
  localStorage.setItem('lang', currentLang); // Guardar idioma
  updateLangBtn();
  document.addEventListener('DOMContentLoaded', updateLangBtn);
    };
    updateLangBtn();
  </script>
</body>
</html>
